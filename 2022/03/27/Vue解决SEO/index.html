<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="灵感胜于汗水">
    
    <title>
        
            Vue解决SEO |
        
        灵感胜于汗水
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/cjhsyc/image-hosting@master/头像.677yiujw5980.webp">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"cjhsyc.github.io","root":"/","language":"zh-CN","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"https://cdn.jsdelivr.net/gh/cjhsyc/image-hosting@master/头像.677yiujw5980.webp","favicon":"https://cdn.jsdelivr.net/gh/cjhsyc/image-hosting@master/头像.677yiujw5980.webp","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"https://cdn.jsdelivr.net/gh/cjhsyc/image-hosting@master/罗小黑战记.2g12vx9z84u8.webp","description":null},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":true}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":true},"lazyload":{"enable":false},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"};
  </script>
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                灵感胜于汗水
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                分类
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                标签
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                关于
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">分类</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">标签</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">关于</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">Vue解决SEO</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="https://cdn.jsdelivr.net/gh/cjhsyc/image-hosting@master/%E5%A4%B4%E5%83%8F.677yiujw5980.webp">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">灵感胜于汗水</span>
                        
                            <span class="author-label">Lv3</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-03-27 11:46:01</span>
        <span class="mobile">2022-03-27 11:46</span>
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/">服务端渲染</a>&nbsp;
                    </li>
                
                    <li>
                        &gt; <a href="/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/NUXT/">NUXT</a>&nbsp;
                    </li>
                
                    <li>
                        &gt; <a href="/categories/SEO/">SEO</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Vue/">Vue</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/SEO/">SEO</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Nuxt/">Nuxt</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>2.4k 字</span>
        </span>
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h1 id="SEO：搜索引擎优化"><a href="#SEO：搜索引擎优化" class="headerlink" title="SEO：搜索引擎优化"></a>SEO：搜索引擎优化</h1><p>seo需要的几个关键点：</p>
<ol>
<li>多页面</li>
<li>title、描述、关键词</li>
<li>网站的内容</li>
</ol>
<p>vue-cli无法实现以上三点：</p>
<ol>
<li>vue项目是SPA：单页面应用</li>
<li>vue项目只有一套title、描述、关键词</li>
<li>vue项目的内容是通过引入js文件加载的，无法通过源代码的HTML文件中直接读取</li>
</ol>
<h1 id="预渲染"><a href="#预渲染" class="headerlink" title="预渲染"></a>预渲染</h1><p>在html页面生成之前数据就已经加载完成。预渲染的流程：</p>
<ul>
<li><p>读取配置，获取需要预渲染的页面</p>
</li>
<li><p>发布机模拟浏览器环境打开页面</p>
</li>
<li><p>页面脚本触发渲染时机</p>
</li>
<li><p>渲染出当前的页面内容</p>
</li>
<li><p>获取当前所有的DOM结构</p>
</li>
<li><p>生成HTML文件</p>
</li>
</ul>
<h2 id="prerender-spa-plugin"><a href="#prerender-spa-plugin" class="headerlink" title="prerender-spa-plugin"></a>prerender-spa-plugin</h2><p>提供一个预渲染解决方案。</p>
<p>安装插件prerender-spa-plugin：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i prerender-spa-plugin</span><br></pre></td></tr></table></figure>

<p>在vue.config.js中进行配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">PrerenderSPAPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;prerender-spa-plugin&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">	<span class="attr">publicPath</span>:<span class="string">&#x27;./&#x27;</span>,</span><br><span class="line">	<span class="attr">configureWebpack</span>:&#123;</span><br><span class="line">    	<span class="attr">plugins</span>: [</span><br><span class="line">	        <span class="keyword">new</span> <span class="title class_">PrerenderSPAPlugin</span>(&#123;</span><br><span class="line">          		<span class="attr">staticDir</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">          		<span class="comment">//将指定的路由分别预渲染为HTML页面(打包后生成多个HTML页面)</span></span><br><span class="line">         		<span class="attr">routes</span>: [ <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;/about&#x27;</span>, <span class="string">&#x27;/some/deep/nested/route&#x27;</span> ],</span><br><span class="line">        	&#125;)</span><br><span class="line">      	]</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="vue-meta-info"><a href="#vue-meta-info" class="headerlink" title="vue-meta-info"></a>vue-meta-info</h2><p>修改title、描述、关键词。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i vue-meta-info</span><br></pre></td></tr></table></figure>

<p>在路由对应 的Vue文件中设置对应的meta-info：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    ...</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    metaInfo: &#123;</span><br><span class="line">      title: &#x27;My Example App&#x27;, // 设置title</span><br><span class="line">      meta: [&#123;                 </span><br><span class="line">        name: &#x27;keyWords&#x27;,//关键字</span><br><span class="line">        content: &#x27;My Example App&#x27;//描述</span><br><span class="line">      &#125;]</span><br><span class="line">      /*link: [&#123;//设置link</span><br><span class="line">        rel: &#x27;asstes&#x27;,</span><br><span class="line">        href: &#x27;https://assets-cdn.github.com/&#x27;</span><br><span class="line">      &#125;]*/</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt; </span><br></pre></td></tr></table></figure>

<h2 id="存在的问题"><a href="#存在的问题" class="headerlink" title="存在的问题"></a>存在的问题</h2><p>prerender-spa-plugin无法配置动态路由，适合一个项目只需要其中几个页面需要做seo。</p>
<p>vue-meta-info无法给title、描述和关键字设置动态数据。</p>
<h1 id="服务器渲染（SSR）"><a href="#服务器渲染（SSR）" class="headerlink" title="服务器渲染（SSR）"></a>服务器渲染（SSR）</h1><p>在客户端和后端之间再添加一个服务器端（比如node.js）,后端将返回的数据交给服务器端，服务器端将html返回给客户端。</p>
<h2 id="NUXT"><a href="#NUXT" class="headerlink" title="NUXT"></a>NUXT</h2><p><a class="link"   target="_blank" rel="noopener" href="https://www.nuxtjs.cn/" >NUXT中文官网<i class="fas fa-external-link-alt"></i></a></p>
<p>一个基于 <a class="link"   target="_blank" rel="noopener" href="https://vuejs.org/" >Vue.js<i class="fas fa-external-link-alt"></i></a> 的服务端渲染应用框架</p>
<p>安装:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx create-nuxt-app &lt;项目名&gt;</span><br></pre></td></tr></table></figure>

<p>安装时需要进行一些选择</p>
<h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><p><code>pages</code>：文件夹中放置路由组件。在该文件夹下的组件会在.nuxt文件夹下的<code>router.js</code>中自动配置路由。</p>
<p><code>components</code>：文件夹中放置全局组件，使用其中的组件时无需import，可直接使用。因为配置文件<code>nuxt.config.js</code>配置文件中的components: true（改为false后需要手动引入组件）</p>
<p><code>store</code>：<code>store</code> 目录用于组织应用的 <a class="link"   target="_blank" rel="noopener" href="http://vuex.vuejs.org/" >Vuex 状态树<i class="fas fa-external-link-alt"></i></a> 文件。 Nuxt.js 框架集成了 <a class="link"   target="_blank" rel="noopener" href="http://vuex.vuejs.org/" >Vuex 状态树<i class="fas fa-external-link-alt"></i></a> 的相关功能配置，在 <code>store</code> 目录下创建一个 <code>index.js</code> 文件可激活这些配置。</p>
<h3 id="NUXT生命周期"><a href="#NUXT生命周期" class="headerlink" title="NUXT生命周期"></a>NUXT生命周期</h3><h4 id="服务端生命周期"><a href="#服务端生命周期" class="headerlink" title="服务端生命周期"></a>服务端生命周期</h4><h5 id="nuxtServerInit"><a href="#nuxtServerInit" class="headerlink" title="nuxtServerInit"></a>nuxtServerInit</h5><p>在<code>store</code> 目录下新建<code>index.js</code>。在vuex的actions模块中使用nuxtServerInit</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">state</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> actions = &#123;</span><br><span class="line">  <span class="comment">//参数1：vuex上下文</span></span><br><span class="line">  <span class="comment">//参数2：nuxt上下文</span></span><br><span class="line">  <span class="comment">//只能在index.js中使用，其他的js文件会被当成子模块，子模块中使用nuxtServerInit无效</span></span><br><span class="line">  <span class="title function_">nuxtServerInit</span>(<span class="params">store, context</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;nuxtServerInit&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="middleware（中间件）"><a href="#middleware（中间件）" class="headerlink" title="middleware（中间件）"></a>middleware（中间件）</h5><p>根目录下新建<code>middleware</code>目录，添加js文件（name.js）:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (&#123;store,route,req,res,redirect,query,params&#125;) =&gt; &#123;<span class="comment">//可接收很多参数</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;middleware&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span>(route.<span class="property">name</span>=<span class="string">&#x27;home&#x27;</span>)&#123;<span class="comment">//前往home路由</span></span><br><span class="line">        <span class="title function_">redirect</span>(<span class="string">&#x27;/login&#x27;</span>)<span class="comment">//重定向到login路由</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>全局middleware：<code>nuxt.config.js</code>中添加：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">router</span>:&#123;</span><br><span class="line">  <span class="attr">middleware</span>:<span class="string">&#x27;name&#x27;</span>,<span class="comment">//对应middleware目录下的js文件名</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>局部（组件内）middleware：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Tutorial/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;IndexPage&#x27;,</span><br><span class="line">  // middleware:&#x27;name&#x27;,</span><br><span class="line">  middleware()&#123;//不需要在middleware目录下写js文件</span><br><span class="line">    console.log(&#x27;局部middleware&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="validate"><a href="#validate" class="headerlink" title="validate"></a>validate</h5><p>用于校验路由参数</p>
<p>在组件中使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Tutorial/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;IndexPage&#x27;,</span><br><span class="line">  validate(&#123;params,query&#125;)&#123;//接收路由的参数</span><br><span class="line">    console.log(&#x27;validate&#x27;)</span><br><span class="line">    return /^\d+$/.test(query.id)//返回值为true时才能正常访问</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="asyncData"><a href="#asyncData" class="headerlink" title="asyncData"></a>asyncData</h5><p>只能在页面组件中使用，在组件每次加载之前调用，一般用来发送请求、获取数据。</p>
<h5 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h5><p>可以在所有组件中使用</p>
<h4 id="服务端和客户端共有的生命周期"><a href="#服务端和客户端共有的生命周期" class="headerlink" title="服务端和客户端共有的生命周期"></a>服务端和客户端共有的生命周期</h4><h5 id="beforeCreate-x2F-created"><a href="#beforeCreate-x2F-created" class="headerlink" title="beforeCreate&#x2F;created"></a>beforeCreate&#x2F;created</h5><p>在NUXT服务器和客户端都执行</p>
<h4 id="客户端生命周期"><a href="#客户端生命周期" class="headerlink" title="客户端生命周期"></a>客户端生命周期</h4><p>和vue中一致：</p>
<ul>
<li><p>beforeMount&#x2F;mounted</p>
</li>
<li><p>beforeUpdate&#x2F;updated</p>
</li>
<li><p>beforeDestroy&#x2F;destroyed</p>
</li>
</ul>
<h3 id="NUXT路由"><a href="#NUXT路由" class="headerlink" title="NUXT路由"></a>NUXT路由</h3><h4 id="nuxt-link"><a href="#nuxt-link" class="headerlink" title="nuxt-link"></a>nuxt-link</h4><p><code>&lt;nuxt-link&gt;</code> 的作用和<code>&lt;router-link&gt;</code>一致。为了提高 Nuxt.js 应用程序的响应能力，当链接将显示在视口中时，Nuxt.js 将自动预获取代码分割页面。</p>
<p>nuxt中不使用路由懒加载。</p>
<h4 id="子路由"><a href="#子路由" class="headerlink" title="子路由"></a>子路由</h4><p>在<code>pages</code>目录下新一个和父路由同名的文件夹，该文件夹下的.vue文件为子路由</p>
<p><code>&lt;nuxt-child&gt;</code>相当于<code>&lt;router-view&gt;</code></p>
<h4 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h4><p>.vue文件以下划线（’_’）开头的为动态路由</p>
<h4 id="手动配置router-js"><a href="#手动配置router-js" class="headerlink" title="手动配置router.js"></a>手动配置router.js</h4><p>使用@nuxtjs&#x2F;router</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @nuxtjs/router</span><br></pre></td></tr></table></figure>

<p><code>nuxt.config.js</code>中配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">modules</span>:[</span><br><span class="line">	<span class="string">&#x27;@nuxtjs/router&#x27;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>在根目录下创建<code>router.js</code>文件，手动配置路由，与vue中不同的是向外暴露的不是router实例而是一个函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Router</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">MyPage</span> <span class="keyword">from</span> <span class="string">&#x27;~/components/my-page&#x27;</span></span><br><span class="line"><span class="keyword">const</span> routes = [&#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">MyPage</span></span><br><span class="line">      &#125;]</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">createRouter</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">    routes</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="路由导航守卫"><a href="#路由导航守卫" class="headerlink" title="路由导航守卫"></a>路由导航守卫</h3><p>在router.js中使用和vue-cli中一样 (全局守卫，路由独享守卫)</p>
<p>nuxtjs自动生成路由时使用：</p>
<ol>
<li><p>中间件：middleware</p>
</li>
<li><p>配置插件</p>
<p>根目录新建<code>plugins/router.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (&#123;app&#125;) =&gt; &#123;</span><br><span class="line">  app.<span class="property">router</span>.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeEach&#x27;</span>)</span><br><span class="line">    <span class="title function_">next</span>()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>nuxt.config.js</code>中设置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugins</span>:[</span><br><span class="line">	<span class="string">&#x27;@/plugins/router.js&#x27;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>导航守卫在服务器端就已经执行，无法获取localStorage和cookie</p>
<p>解决方法：安装cookie-universal-nuxt</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i cookie-universal-nuxt</span><br></pre></td></tr></table></figure>

<p>nuxt.config.js中:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">modules:[</span><br><span class="line">	&#x27;cookie-universal-nuxt&#x27;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>即可正常使用，如：</p>
<ul>
<li>this.$cookies.set</li>
<li>this.$cookies.get</li>
</ul>
<h3 id="配置（nuxt-config-js）"><a href="#配置（nuxt-config-js）" class="headerlink" title="配置（nuxt.config.js）"></a>配置（nuxt.config.js）</h3><h4 id="head"><a href="#head" class="headerlink" title="head"></a>head</h4><p>head用于配置title、描述、关键字：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">head</span>: &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;app&#x27;</span>,</span><br><span class="line">  <span class="attr">htmlAttrs</span>: &#123;</span><br><span class="line">    <span class="attr">lang</span>: <span class="string">&#x27;en&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">meta</span>: [</span><br><span class="line">    &#123; <span class="attr">charset</span>: <span class="string">&#x27;utf-8&#x27;</span> &#125;,<span class="comment">//网页编码</span></span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;viewport&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;width=device-width, initial-scale=1&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">hid</span>: <span class="string">&#x27;description&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;description&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;&#x27;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;format-detection&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;telephone=no&#x27;</span> &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">link</span>: [</span><br><span class="line">    &#123; <span class="attr">rel</span>: <span class="string">&#x27;icon&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;image/x-icon&#x27;</span>, <span class="attr">href</span>: <span class="string">&#x27;/favicon.ico&#x27;</span> &#125;<span class="comment">//网页图标</span></span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>如果当前页面的.vue文件没有单独配置head，则使用nuxt.config.js中的head</p>
<p>在每个页面中单独配置：（使用函数的形式）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;about&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;About&quot;,</span><br><span class="line">  head() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      title: &#x27;about&#x27;,//可以设置为动态数据</span><br><span class="line">      meta: [</span><br><span class="line">        &#123;hid: &#x27;keywords&#x27;,name:&#x27;keywords&#x27;,content: &#x27;网站关键字&#x27;&#125;,</span><br><span class="line">        &#123;hid: &#x27;description&#x27;, name: &#x27;description&#x27;, content: &#x27;网站描述&#x27;&#125;,</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="css"><a href="#css" class="headerlink" title="css"></a>css</h4><p>配置全局的css文件：（比如：初始化css、UI组件库的css文件）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">css</span>: [</span><br><span class="line">  <span class="string">&#x27;@/static/reset.css&#x27;</span><span class="comment">//static下准备样式初始化文件</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<h4 id="plugins"><a href="#plugins" class="headerlink" title="plugins"></a>plugins</h4><p>配置全局js文件：（比如：axios二次封装、UI组件库）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">  <span class="string">&#x27;@/plugins/router.js&#x27;</span><span class="comment">//plugins文件夹下准备全局js文件</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<h4 id="modules"><a href="#modules" class="headerlink" title="modules"></a>modules</h4><p>modules是Nuxt.js扩展</p>
<p>nuxt中安装axios(方式一)：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @nuxtjs/axios</span><br></pre></td></tr></table></figure>

<p>modules中配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">modeules</span>:[</span><br><span class="line">	<span class="string">&#x27;@nuxtjs/axios&#x27;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>方式二：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i axios</span><br></pre></td></tr></table></figure>

<p>由于nuxt项目中没有main.js文件，使用时需要在.vue文件中单独import。</p>
<p>这里使用方式一：</p>
<p>在pages下 的页面组件中使用sayncData发送请求：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;首页&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;IndexPage&#x27;,</span><br><span class="line">  data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">      list:[]  </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  async asyncData(&#123;$axios&#125;)&#123;//接收一个参数是页面组件上下文</span><br><span class="line">    const res = await $axios.get(&#123;url:&#x27;http://xxxxxxxxxxxxx&#x27;&#125;)</span><br><span class="line">    return&#123;//asyncData中的this为undefined，需使用return返回数据，返回的数据会合并到组件的data中</span><br><span class="line">      list:res.data</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>在components下的组件使用fetch发送请求获取数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;news&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;News&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      list: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  async fetch() &#123;//也接收一个参数是页面组件上下文，components下的组件接收不到</span><br><span class="line">      //fetch函数的this是组件实例，该函数不能直接将数据返回给页面组件，所有可以在components下的组件使用</span><br><span class="line">      //如果要在页面组件中使用需要将数据传到vuex中</span><br><span class="line">    const res = await this.$axios.get(&#123;url: &#x27;http://xxxxxxxxxxxxx&#x27;&#125;)</span><br><span class="line">    this.list = res.data</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="配置代理"><a href="#配置代理" class="headerlink" title="配置代理"></a>配置代理</h4><p>安装aixos和proxy：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i @nuxtjs/axios</span><br><span class="line">npm i @nuxtjs/proxy</span><br></pre></td></tr></table></figure>

<p>配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">modules</span>: [</span><br><span class="line">  <span class="string">&#x27;@nuxtjs/axios&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;@nuxtjs/proxy&#x27;</span>,</span><br><span class="line">],</span><br><span class="line"><span class="attr">axios</span>: &#123;</span><br><span class="line">  <span class="attr">proxy</span>: <span class="literal">true</span>,<span class="comment">//是否可以跨域</span></span><br><span class="line">  <span class="attr">baseUrl</span>: <span class="string">&#x27;xxxxxxx&#x27;</span>,</span><br><span class="line">  <span class="attr">retry</span>: &#123;<span class="attr">retries</span>: <span class="number">3</span>&#125;,<span class="comment">//超时重试次数</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">proxy</span>: &#123;<span class="comment">//配置代理</span></span><br><span class="line">  <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">    <span class="attr">target</span>: <span class="string">&#x27;http://localhost:8080&#x27;</span>,</span><br><span class="line">    <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h4 id="axios二次封装"><a href="#axios二次封装" class="headerlink" title="axios二次封装"></a>axios二次封装</h4><p>新建<code>plugins/axios,js</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (&#123;$axios&#125;) =&gt; &#123;</span><br><span class="line">  $axios.<span class="property">defaults</span>.<span class="property">timeout</span> = <span class="number">10000</span><span class="comment">//超时时间</span></span><br><span class="line">  <span class="comment">//请求拦截器</span></span><br><span class="line">  $axios.<span class="title function_">onRequest</span>(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(config)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">//错误拦截器</span></span><br><span class="line">  $axios.<span class="title function_">onError</span>((<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">  &#125;))</span><br><span class="line">  <span class="comment">//响应拦截器</span></span><br><span class="line">  $axios.<span class="title function_">onResponse</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> response.<span class="property">data</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>配置:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">  <span class="string">&#x27;@/plugins/axios.js&#x27;</span>,</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<h4 id="loading-加载进度条"><a href="#loading-加载进度条" class="headerlink" title="loading (加载进度条)"></a>loading (加载进度条)</h4><p>配置关闭loading：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">loading</span>:<span class="literal">false</span>,<span class="comment">//默认为true</span></span><br></pre></td></tr></table></figure>

<p>配置样式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">loading</span>:&#123;</span><br><span class="line">	<span class="attr">color</span>:<span class="string">&#x27;blue&#x27;</span>,</span><br><span class="line">	<span class="attr">height</span>:<span class="string">&#x27;5px&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Vuex状态树"><a href="#Vuex状态树" class="headerlink" title="Vuex状态树"></a>Vuex状态树</h3><p>新建<code>store/index.js</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">state</span> = (<span class="params"></span>) =&gt; &#123;<span class="comment">//state使用函数，避免返回引用</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> actions = &#123;&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getters = &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>模块：</p>
<p>新建js文件，模块名就是文件名</p>
<h3 id="nuxt项目上线"><a href="#nuxt项目上线" class="headerlink" title="nuxt项目上线"></a>nuxt项目上线</h3><ol>
<li><p>打包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>
</li>
<li><p>将<code>.nuxt</code>、<code>static</code>、<code>nuxt.config.js</code>、<code>package.json</code>四个文件放到服务器中，服务器下载node环境。</p>
</li>
<li><p>服务器安装依赖并启动（依旧是localhost:3000）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br><span class="line">npm run start</span><br></pre></td></tr></table></figure>
</li>
<li><p>nginx代理</p>
</li>
</ol>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1GT4y1X7aC?p=2&t=614.3" >参考视频<i class="fas fa-external-link-alt"></i></a></p>

        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>本文标题：Vue解决SEO</li>
        <li>本文作者：灵感胜于汗水</li>
        <li>创建时间：2022-03-27 11:46:01</li>
        <li>
            本文链接：https://cjhsyc.github.io/2022/03/27/Vue解决SEO/
        </li>
        <li>
            版权声明：本博客所有文章除特别声明外，均采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> 许可协议。转载请注明出处！
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box">
                
                    <li class="tag-item">
                        <a href="/tags/Vue/">#Vue</a>&nbsp;
                    </li>
                
                    <li class="tag-item">
                        <a href="/tags/SEO/">#SEO</a>&nbsp;
                    </li>
                
                    <li class="tag-item">
                        <a href="/tags/Nuxt/">#Nuxt</a>&nbsp;
                    </li>
                
            </ul>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2022/03/27/HTTP%E7%BC%93%E5%AD%98/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">HTTP缓存</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2022/03/22/%E5%AE%9E%E7%94%A8%E7%BD%91%E7%AB%99/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">实用网站</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2022</span>
              -
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">灵感胜于汗水</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        访问人数&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        总访问量&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#SEO%EF%BC%9A%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BC%98%E5%8C%96"><span class="nav-number">1.</span> <span class="nav-text">SEO：搜索引擎优化</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%A2%84%E6%B8%B2%E6%9F%93"><span class="nav-number">2.</span> <span class="nav-text">预渲染</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#prerender-spa-plugin"><span class="nav-number">2.1.</span> <span class="nav-text">prerender-spa-plugin</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vue-meta-info"><span class="nav-number">2.2.</span> <span class="nav-text">vue-meta-info</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">2.3.</span> <span class="nav-text">存在的问题</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%B8%B2%E6%9F%93%EF%BC%88SSR%EF%BC%89"><span class="nav-number">3.</span> <span class="nav-text">服务器渲染（SSR）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#NUXT"><span class="nav-number">3.1.</span> <span class="nav-text">NUXT</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-number">3.1.1.</span> <span class="nav-text">目录结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NUXT%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">3.1.2.</span> <span class="nav-text">NUXT生命周期</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">3.1.2.1.</span> <span class="nav-text">服务端生命周期</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#nuxtServerInit"><span class="nav-number">3.1.2.1.1.</span> <span class="nav-text">nuxtServerInit</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#middleware%EF%BC%88%E4%B8%AD%E9%97%B4%E4%BB%B6%EF%BC%89"><span class="nav-number">3.1.2.1.2.</span> <span class="nav-text">middleware（中间件）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#validate"><span class="nav-number">3.1.2.1.3.</span> <span class="nav-text">validate</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#asyncData"><span class="nav-number">3.1.2.1.4.</span> <span class="nav-text">asyncData</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#fetch"><span class="nav-number">3.1.2.1.5.</span> <span class="nav-text">fetch</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%85%B1%E6%9C%89%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">3.1.2.2.</span> <span class="nav-text">服务端和客户端共有的生命周期</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#beforeCreate-x2F-created"><span class="nav-number">3.1.2.2.1.</span> <span class="nav-text">beforeCreate&#x2F;created</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">3.1.2.3.</span> <span class="nav-text">客户端生命周期</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NUXT%E8%B7%AF%E7%94%B1"><span class="nav-number">3.1.3.</span> <span class="nav-text">NUXT路由</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#nuxt-link"><span class="nav-number">3.1.3.1.</span> <span class="nav-text">nuxt-link</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%90%E8%B7%AF%E7%94%B1"><span class="nav-number">3.1.3.2.</span> <span class="nav-text">子路由</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1"><span class="nav-number">3.1.3.3.</span> <span class="nav-text">动态路由</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E5%8A%A8%E9%85%8D%E7%BD%AErouter-js"><span class="nav-number">3.1.3.4.</span> <span class="nav-text">手动配置router.js</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB"><span class="nav-number">3.1.4.</span> <span class="nav-text">路由导航守卫</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F"><span class="nav-number">3.1.4.1.</span> <span class="nav-text">注意</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%EF%BC%88nuxt-config-js%EF%BC%89"><span class="nav-number">3.1.5.</span> <span class="nav-text">配置（nuxt.config.js）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#head"><span class="nav-number">3.1.5.1.</span> <span class="nav-text">head</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#css"><span class="nav-number">3.1.5.2.</span> <span class="nav-text">css</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#plugins"><span class="nav-number">3.1.5.3.</span> <span class="nav-text">plugins</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#modules"><span class="nav-number">3.1.5.4.</span> <span class="nav-text">modules</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86"><span class="nav-number">3.1.5.5.</span> <span class="nav-text">配置代理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#axios%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85"><span class="nav-number">3.1.5.6.</span> <span class="nav-text">axios二次封装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#loading-%E5%8A%A0%E8%BD%BD%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="nav-number">3.1.5.7.</span> <span class="nav-text">loading (加载进度条)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Vuex%E7%8A%B6%E6%80%81%E6%A0%91"><span class="nav-number">3.1.6.</span> <span class="nav-text">Vuex状态树</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#nuxt%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF"><span class="nav-number">3.1.7.</span> <span class="nav-text">nuxt项目上线</span></a></li></ol></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/code-copy.js"></script>




<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script>
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
